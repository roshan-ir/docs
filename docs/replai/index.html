
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta
            name="description"
            content="Documentation for the ریپلای API"
        >
    <title>API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #303030;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sa {
  color: #aa759f;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-1086c5ef.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-9801298e.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-b49a9d77.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;plaintext&quot;,&quot;python&quot;]">
  <div style="position:fixed;z-index:50;height:4px;width:100%;background-color:#FF6200;">
  </div>
    <div class="toc-wrapper">
      <div>
        <a href="#" id="nav-button">
          <span>
            <img src="images/navbar-cad8cdcb.png" alt="" />
            <span>منو</span> 
          </span>
        </a>
        <div>
          <img src="images/logo-52f97f28.svg" class="logo" alt="" />
            <div class="search">
              <input type="text" class="search" id="input-search" placeholder="جست و جو">
            </div>
            <ul class="search-results"></ul>
          <ul id="toc" class="toc-list-h1">
              <li>
                <a href="#e9f67fe1e5" class="toc-h1 toc-link" data-title="ریپلای">ریپلای</a>
                  <ul class="toc-list-h2">
                      <li>
                        <a href="#204b4bb226" class="toc-h2 toc-link" data-title="آشنایی با اصطلاحات">آشنایی با اصطلاحات</a>
                      </li>
                  </ul>
              </li>
              <li>
                <a href="#1bb6dcd4e3" class="toc-h1 toc-link" data-title="فهرست فضاهای کار موجود">فهرست فضاهای کار موجود</a>
                  <ul class="toc-list-h2">
                      <li>
                        <a href="#b40d4b44b2" class="toc-h2 toc-link" data-title="مثال">مثال</a>
                      </li>
                  </ul>
              </li>
              <li>
                <a href="#f1a69aa695" class="toc-h1 toc-link" data-title="فهرست گفتگوهای فضای کار">فهرست گفتگوهای فضای کار</a>
                  <ul class="toc-list-h2">
                      <li>
                        <a href="#b40d4b44b2-2" class="toc-h2 toc-link" data-title="مثال">مثال</a>
                      </li>
                  </ul>
              </li>
              <li>
                <a href="#198f391592" class="toc-h1 toc-link" data-title="ایجاد یک گفتگوی جدید">ایجاد یک گفتگوی جدید</a>
                  <ul class="toc-list-h2">
                      <li>
                        <a href="#b40d4b44b2-3" class="toc-h2 toc-link" data-title="مثال">مثال</a>
                      </li>
                  </ul>
              </li>
              <li>
                <a href="#1dc88df676" class="toc-h1 toc-link" data-title="فهرست پیام‌های یک گفتگو">فهرست پیام‌های یک گفتگو</a>
                  <ul class="toc-list-h2">
                      <li>
                        <a href="#b40d4b44b2-4" class="toc-h2 toc-link" data-title="مثال">مثال</a>
                      </li>
                  </ul>
              </li>
              <li>
                <a href="#909208a2d1" class="toc-h1 toc-link" data-title="ایجاد یک پیام جدید">ایجاد یک پیام جدید</a>
                  <ul class="toc-list-h2">
                      <li>
                        <a href="#b40d4b44b2-5" class="toc-h2 toc-link" data-title="مثال">مثال</a>
                      </li>
                  </ul>
              </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='e9f67fe1e5'>ریپلای</h1>
<p>ریپلای یک دستیار گفتگوی هوشمند است. این ابزار در نقش یک نیروی پشتیبانِ همیشه آنلاین، پیام‌های ارسالی کاربران را در هر ساعت از شبانه‌روز می‌گیرد و بعد از درک مفهوم پیام، از میان پاسخ‌های از پیش آماده شده، پاسخ مناسبی را برای کاربر ارسال یا تولید می‌کند. در محیط دموی این پروژه کاربر می‌تواند فضای تست اختصاصی خود را داشته باشد، اطلاعات آن را شخصی‌سازی کند و این فضا را از طریق واسط گرافیکی یا API ارزیابی کند.
برای ارزیابی فضا در محیط کاربری گرافیکی بایستی نام کاربری و گذرواژه و برای ارزیابی از طریق API بایستی کلید اتصال به آن را از تیم فروشِ روشن دریافت کنید.</p>
<h2 id='204b4bb226'>آشنایی با اصطلاحات</h2>
<p>برای کار با ریپلای ابتدا لازم است با اصطلاحات مرتبط با این ابزار آشنا شوید. در این بخش، این اصطلاحات معرفی شده است.</p>
<h3 id='workspace'>فضای کار (Workspace)</h3>
<p>فضاهای کار، محیط تست نسخه‌های مختلف ابزار ما هستند که به شیوه‌های مختلفی توسعه پیدا کرده‌اند یا داده‌های مختلفی برای پاسخگویی به پرسش‌ها در نظر می‌گیرند. در محیط کاربری گرافیکی به شما دسترسی یک یا چند فضای کار داده شده که قابل مشاهده و تغییر است و در API از طریق واسط مخصوص می‌توانید اطلاعات فضاهای کاری که دسترسی دارید را دریافت کنید.</p>
<h3 id='chat'>گفتگو (Chat)</h3>
<p>در هر فضای کاری می‌توانید گفتگوهای مختلفی را شروع کنید و یا هر زمان که بخواهید گفتگوهای قبلی را ادامه دهید. پیام‌های یک گفتگو این امکان را دارند که با هم ارتباط معنایی داشته باشند که این تابع ویژگی‌های فضای کار است و ممکن است در بعضی فضاهای کار این قابلیت وجود نداشته باشد.</p>
<h3 id='message'>پیام (Message)</h3>
<p>پیام‌ها، متن‌های ارسالی از سوی کاربر هستند که ریپلای برای هر کدام از آن‌ها یک پاسخ تولید می‌کند. پاسخ به یک پیام، جزو مشخصات همان پیام است و برای ذخیرهٔ پاسخ، یک پیام جدید تولید نمی‌شود.</p>
<h1 id='1bb6dcd4e3'>فهرست فضاهای کار موجود</h1>
<p>فهرست فضاهای کاری منتصب به کاربر جاری را برمی‌گرداند..در پاسخ برگشتی، <code>id</code> بیانگر شناسهٔ فضای کاری است، <code>title</code> عنوان فضای کاری، <code>version</code> نسخه فضای کاری، <code>texts</code> نمونه پیام‌های ارسالی برای گفتگو و <code>icon</code> تصویر پروفایل فضای کاری است.</p>
<h2 id='b40d4b44b2'>مثال</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>""
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl  <span class="nt">--request</span> GET <span class="se">\ </span>
      <span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span> <span class="nt">--header</span> <span class="s2">"Authorization: Token TOKEN_KEY"</span> <span class="se">\</span>
      <span class="nt">--data-binary</span> <span class="s1">'""'</span> <span class="se">\</span>
      https://replai.roshan-ai.ir/api/workspaces/
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">values</span> <span class="o">=</span> <span class="s">""</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Token TOKEN_KEY'</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://replai.roshan-ai.ir/api/workspaces/'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">values</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>Response </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">        </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w">
                </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p24_api"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0.0"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"texts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">""</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="nl">"icon"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">


</span></code></pre></div>
<dl style="background-color:transparent;"><code>GET /api/workspaces/</code></dl>
<h1 id='f1a69aa695'>فهرست گفتگوهای فضای کار</h1>
<p style="font-size: 20px;font-family:IRANYekan;">پارامترهای ورودی</p>

<table style="float:right;text-align:center;font-family:IRANYekan;">
    <tr>
        <th>
            توضیحات
        </th>
        <th>
            کلید
        </th>
    </tr>
<tr>
<td>
شناسهٔ فضای کاری‌ای که می‌خواهید فهرست گفتگوهای آن دریافت کنید.
</td>
<td style="font-weight: bold">
workspaces_id
</td>
</tr></table>

<p>فهرست گفتگوهای یک فضای کاری مشخص را برمی‌گرداند..در پاسخ برگشتی، <code>date</code>بیانگر تاریخ شروع گفتگو است، <code>chats</code> لیست گفتگوها در این تاریخ، <code>id</code> شناسه گفتگو و <code>title</code> عنوان گفتگو است. مقدار فیلد title به صورت خودکار توسط سامانه تولید می‌شود.</p>
<h2 id='b40d4b44b2-2'>مثال</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>""
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl  <span class="nt">--request</span> GET <span class="se">\ </span>
      <span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span> <span class="nt">--header</span> <span class="s2">"Authorization: Token TOKEN_KEY"</span> <span class="se">\</span>
      <span class="nt">--data-binary</span> <span class="s1">'""'</span> <span class="se">\</span>
      https://replai.roshan-ai.ir/api/workspaces/<span class="o">{</span>workspaces_id<span class="o">}</span>/chats/
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">values</span> <span class="o">=</span> <span class="s">""</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Token TOKEN_KEY'</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://replai.roshan-ai.ir/api/workspaces/{workspaces_id}/chats/'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">values</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>Response </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">        </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-01-15"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"chats"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1557</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"آیا گرفتن نوبت در سا"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-01-14"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"chats"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1553</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"گرفتن نوبت در سامانه"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">


</span></code></pre></div>
<dl style="background-color:transparent;"><code>GET /api/workspaces/{workspaces_id}/chats/</code></dl>
<h1 id='198f391592'>ایجاد یک گفتگوی جدید</h1>
<p style="font-size: 20px;font-family:IRANYekan;">پارامترهای ورودی</p>

<table style="float:right;text-align:center;font-family:IRANYekan;">
    <tr>
        <th>
            توضیحات
        </th>
        <th>
            کلید
        </th>
    </tr>
<tr>
<td>
شناسهٔ فضای کاری‌ای که می‌خواهید یک گفتگوی جدید در آن ایجاد کنید.
</td>
<td style="font-weight: bold">
workspaces_id
</td>
</tr></table>

<p>یک گفتگوی جدید در یک فضای کاری مشخص ایجاد می‌کند. در پاسخ برگشتی، <code>chat_id</code>بیانگر شناسه گفتگو است، <code>text</code> متن پیام آغازین گفتگو، <code>reply</code> متن پاسخ به پیام آغازین گفتگو و <code>message_id</code> شناسهٔ پیام آغازین گفتگو است.</p>
<h2 id='b40d4b44b2-3'>مثال</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>{
    "text": "گرفتن نوبت در سامانه پذیرش24 برای من هزینه ای دارد؟"
}
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl  <span class="nt">--request</span> POST <span class="se">\ </span>
      <span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span> <span class="nt">--header</span> <span class="s2">"Authorization: Token TOKEN_KEY"</span> <span class="se">\</span>
      <span class="nt">--data-binary</span> <span class="s1">'{
    "text": "گرفتن نوبت در سامانه پذیرش24 برای من هزینه ای دارد؟"
}'</span> <span class="se">\</span>
      https://replai.roshan-ai.ir/api/workspaces/<span class="o">{</span>workspace_id<span class="o">}</span>/chats/
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">values</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"text"</span><span class="p">:</span> <span class="s">"گرفتن نوبت در سامانه پذیرش24 برای من هزینه ای دارد؟"</span>
<span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Token TOKEN_KEY'</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://replai.roshan-ai.ir/api/workspaces/{workspace_id}/chats/'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">values</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>Response </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"chat_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1559</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reply"</span><span class="p">:</span><span class="w"> </span><span class="s2">"سامانه پذیرش24 در قبال فرآیند نوبت هیچگونه هزینه ای دریافت نمی‌کند و اگر بعد از ثبت نوبت به درگاه پرداخت متصل شدید، این درگاه متعلق به پزشک و یا مرکز درمانی مربوطه می‌باشد و پذیرش24 هیچ دخل و تصرفی در این هزینه ها ندارد.</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"message_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4760</span><span class="w">
        </span><span class="p">}</span><span class="w">


</span></code></pre></div>
<dl style="background-color:transparent;"><code>POST /api/workspaces/{workspace_id}/chats/</code></dl>

<dl>
<strong>text(required)</strong>
<br>
<br>
Value: <span style="background-color: #00A693;
                    border-color: #00A693;
                    border-width: 3px;
                    border-radius: 2px">
                    undefined
                    </span>
</dl>

<p style="direction:rtl;font-weight:300;">
<img src="images/vector-c3fae21d.svg" alt="vector">  متن پیام آغازین گفتگو.</p>

<p><br><br></p>
<h1 id='1dc88df676'>فهرست پیام‌های یک گفتگو</h1>
<p style="font-size: 20px;font-family:IRANYekan;">پارامترهای ورودی</p>

<table style="float:right;text-align:center;font-family:IRANYekan;">
    <tr>
        <th>
            توضیحات
        </th>
        <th>
            کلید
        </th>
    </tr>
<tr>
<td>
شناسهٔ گفتگویی که می‌خواهید فهرست پیام‌های آن را دریافت کنید.
</td>
<td style="font-weight: bold">
chat_id
</td>
</tr></table>

<p>فهرست پیام‌های موجود در یک گفتگوی مشخص را برمی‌گرداند. در پاسخ برگشتی، <code>id</code>بیانگر شناسه پیام است، <code>text</code> متن پیام، <code>reply</code> متن پاسخ به پیام، <code>like</code> نشان‌دهندهٔ پسنیدن پاسخ، <code>dislike</code> نشانگر نپسندیدن پاسخ و <code>created_at</code> زمان ایجاد پیام است.</p>
<h2 id='b40d4b44b2-4'>مثال</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>""
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl  <span class="nt">--request</span> GET <span class="se">\ </span>
      <span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span> <span class="nt">--header</span> <span class="s2">"Authorization: Token TOKEN_KEY"</span> <span class="se">\</span>
      <span class="nt">--data-binary</span> <span class="s1">'""'</span> <span class="se">\</span>
      https://replai.roshan-ai.ir/api/chats/<span class="o">{</span>chat_id<span class="o">}</span>/messages/
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">values</span> <span class="o">=</span> <span class="s">""</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Token TOKEN_KEY'</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://replai.roshan-ai.ir/api/chats/{chat_id}/messages/'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">values</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>Response </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">    </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4702</span><span class="p">,</span><span class="w">
            </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"چه طور نوبت خود را کنسل کنم؟"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reply"</span><span class="p">:</span><span class="w"> </span><span class="s2">"شما از طریق قسمت “نوبت‌های من” هم از طریق اپلیکیشن و هم از طریق وبسایت میتونید نوبت ثبت شده خودتون رو لغو کنید.</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"like"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"dislike"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-01-14T15:11:45.496928Z"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4701</span><span class="p">,</span><span class="w">
            </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"گرفتن نوبت در سامانه پذیرش24 برای من هزینه ای دارد؟"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reply"</span><span class="p">:</span><span class="w"> </span><span class="s2">"سامانه پذیرش24 در قبال فرآیند نوبت هیچگونه هزینه ای دریافت نمی‌کند و اگر بعد از ثبت نوبت به درگاه پرداخت متصل شدید، این درگاه متعلق به پزشک و یا مرکز درمانی مربوطه می‌باشد و پذیرش24 هیچ دخل و تصرفی در این هزینه ها ندارد.</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"like"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"dislike"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-01-14T15:10:28.490395Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">


</span></code></pre></div>
<dl style="background-color:transparent;"><code>GET /api/chats/{chat_id}/messages/</code></dl>
<h1 id='909208a2d1'>ایجاد یک پیام جدید</h1>
<p style="font-size: 20px;font-family:IRANYekan;">پارامترهای ورودی</p>

<table style="float:right;text-align:center;font-family:IRANYekan;">
    <tr>
        <th>
            توضیحات
        </th>
        <th>
            کلید
        </th>
    </tr>
<tr>
<td>
شناسهٔ گفتگویی که می‌خواهید یک پیام جدید در آن ایجاد کنید.
</td>
<td style="font-weight: bold">
chat_id
</td>
</tr></table>

<p>یک پیام جدید در یک گفتگوی مشخص ایجاد می‌کند. در پاسخ برگشتی، <code>text</code>بیانگر متن پیام جدید است، <code>message_id</code> شناسهٔ پیام جدید و <code>reply</code> متن پاسخ به این پیام است.</p>
<h2 id='b40d4b44b2-5'>مثال</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>{
    "text": "چه طور نوبت خود را کنسل کنم؟"
}
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl  <span class="nt">--request</span> POST <span class="se">\ </span>
      <span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span> <span class="nt">--header</span> <span class="s2">"Authorization: Token TOKEN_KEY"</span> <span class="se">\</span>
      <span class="nt">--data-binary</span> <span class="s1">'{
    "text": "چه طور نوبت خود را کنسل کنم؟"
}'</span> <span class="se">\</span>
      https://replai.roshan-ai.ir/api/chats/<span class="o">{</span>chat_id<span class="o">}</span>/messages/
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">values</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"text"</span><span class="p">:</span> <span class="s">"چه طور نوبت خود را کنسل کنم؟"</span>
<span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Token TOKEN_KEY'</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://replai.roshan-ai.ir/api/chats/{chat_id}/messages/'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">values</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>Response </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"message_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4765</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reply"</span><span class="p">:</span><span class="w"> </span><span class="s2">"شما از طریق قسمت “نوبت‌های من” هم از طریق اپلیکیشن و هم از طریق وبسایت میتونید نوبت ثبت شده خودتون رو لغو کنید.</span><span class="se">\n</span><span class="s2">"</span><span class="w">
        </span><span class="p">}</span><span class="w">


</span></code></pre></div>
<dl style="background-color:transparent;"><code>POST /api/chats/{chat_id}/messages/</code></dl>

<dl>
<strong>text(required)</strong>
<br>
<br>
Value: <span style="background-color: #00A693;
                    border-color: #00A693;
                    border-width: 3px;
                    border-radius: 2px">
                    undefined
                    </span>
</dl>

<p style="direction:rtl;font-weight:300;">
<img src="images/vector-c3fae21d.svg" alt="vector">  متن پیام.</p>

<p><br><br></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">CURL</a>
                <a href="#" data-language-name="plaintext">RAW</a>
                <a href="#" data-language-name="python">PYTHON</a>
          </div>
      </div>
    </div>
  </body>
</html>

<script>
function Scroll(delay) {
    this.initialY = scrollY;
    this.callbacks = {
        start  : null,
        scroll : null,
        end    : null,
    };
    this.timeout = {
        delay  : delay || 150,
        handle : null,
    };
    this.handler = Scroll.handler.bind(this);
    window.addEventListener("scroll", this.handler);
}

Scroll.handler = function (e) {
    if (this.initialY == 0) {
        if (this.timeout.handle == null) {
            if (this.callbacks.start) {
                this.callbacks.start.call(this, e);
            }
        }
        if (this.timeout.handle !== null) {
            clearTimeout(this.timeout.handle);
        }
        if (this.callbacks.scroll) {
            this.callbacks.scroll.call(this, e);
        }
        var self = this;
        this.timeout.handle = setTimeout(function () {
            self.timeout.handle = null;
            if (self.callbacks.end) {
                self.callbacks.end.call(self, e);
            }
        }, this.timeout.delay);
    } else {
        this.initialY = 0;
    }
};

Scroll.prototype.addEventListener = function (event, callback) {
    if (Object.keys(this.callbacks).includes(event)) {
        this.callbacks[event] = callback;
    } else {
        console.warn("Invalid scroll event: " + event);
    }
};

window.addEventListener('DOMContentLoaded',() => {
    let tocLinks = document.getElementsByClassName('toc-link');
    
    for(let i = 0; i < tocLinks.length; i++) {
        tocLinks[i].addEventListener('click', () => {
            for(let i = 0; i < tocLinks.length; i++) {
                tocLinks[i].classList.add('toc-unstyled')
            }
        })
    }
    
    var sl = new Scroll(400);
    
    sl.addEventListener("end", function () {
        for(let i = 0; i < tocLinks.length; i++) {
            tocLinks[i].classList.remove('toc-unstyled')
        }
    });
});
</script>